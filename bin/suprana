#!/bin/bash
SUPRANA_CONFIG_DIR="${HOME}/.config/suprana/cli"
SUPRANA_NETWORK="${SUPRANA_NETWORK:-http://localhost:8899}"

mkdir -p "${SUPRANA_CONFIG_DIR}"
export SUPRANA_CONFIG_FILE="${SUPRANA_CONFIG_DIR}/config.yml"

if [ ! -f "${SUPRANA_CONFIG_FILE}" ]; then
    solana config set --url "${SUPRANA_NETWORK}" --config "${SUPRANA_CONFIG_FILE}" > /dev/null 2>&1
fi

solana --config "${SUPRANA_CONFIG_FILE}" "$@" 2>&1 | sed 's/ SOL/ SUP/g; s/SOL/SUP/g; s/Solana/Suprana/g; s/solana/suprana/g'
exit ${PIPESTATUS[0]}
